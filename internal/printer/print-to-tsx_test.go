package printer

import (
	"strings"
	"testing"

	astro "github.com/withastro/compiler/internal"
	handler "github.com/withastro/compiler/internal/handler"
	"github.com/withastro/compiler/internal/transform"
)

// One of the more performance-sensitive parts of the compiler is the handling of multibytes characters, this benchmark is an extreme case of that.
func BenchmarkPrintToTSX(b *testing.B) {
	source := `ğŸŒ˜ğŸ”…ğŸ”˜ğŸ®ğŸ”­ğŸ”ğŸ’ğŸ„ğŸ‘‹ ğŸ˜ğŸ‘½ğŸ’½ğŸŒ‰ğŸŒ’ğŸ” ğŸ“‡ğŸ¨ğŸ’¿ğŸ·ğŸ¯ğŸ’…ğŸ“±ğŸ­ğŸ‘ğŸ«ğŸ’ğŸ¢ğŸ•¡ augue tincidunt ğŸ‘ ğŸ’‹ğŸŒµğŸ’ŒğŸŒğŸ„ğŸ•‚ğŸ¹ğŸ“£ğŸŸ ğŸğŸ²ğŸ‘·ğŸ—»ğŸ¢ğŸ«ğŸ‘£ğŸ¹ğŸ”·ğŸ¢ğŸ‘­ğŸ—ğŸ‘ƒ ğŸ´ğŸˆğŸ“ğŸ’„ et, ğŸ‘½ğŸ‘½ğŸ”™ğŸ’ğŸ”™ğŸ€ ğŸğŸğŸµğŸ’•ğŸ‚ğŸ­ğŸ¬ğŸ… ac ğŸƒğŸ‘³ğŸ“‘ğŸ¶ğŸ‘ğŸ”· ğŸ”•ğŸ‘„ğŸ¾ğŸ‘¡ğŸ¢ğŸ’— ğŸŒ“ğŸ”™ğŸŒ”ğŸˆğŸ”’ğŸ”„ğŸ¹ğŸ ğŸ¾ğŸğŸŒğŸ“ƒğŸ’ğŸ“”ğŸ”•ğŸ• vel ğŸŒŸğŸğŸ’´ğŸ¾ğŸ”·ğŸ“ªğŸ’¼ğŸ‘£ğŸ“š ğŸ‘ŸğŸ’»ğŸ—¾ğŸ‹ğŸ’ğŸ¬ğŸ®ğŸ’‘ ğŸˆğŸŒ¸ğŸ“ğŸ¥ğŸ’¦ et vivamus ğŸ‘ğŸ«ğŸ”‰ğŸ”¹ğŸ’½ğŸ™ rhoncus eu ğŸ“°ğŸ’«ğŸ’€ğŸŒº ğŸ”‹ğŸ’¾ğŸ”±ğŸ”·ğŸŸ convallis facilisi vitae mollis ğŸ“¨ğŸ”šğŸ’®ğŸ”ƒğŸ€ğŸ¶ ğŸŒ ğŸ“‘ğŸ¹ğŸŒ‘ğŸ“«ğŸ—½ğŸŠğŸ’ğŸ”¼ğŸ•“ ac ğŸŒ‚ğŸŒ³ğŸŒºğŸ­ğŸ§ğŸ‘ ğŸ”­ğŸ”‰ğŸ’‰ğŸ—ğŸ‘ ğŸ¦ ğŸ”„ğŸ‘”ğŸ­ğŸ‡ ğŸ¤ğŸ‚ğŸŒğŸ‘œğŸ”º ornare ğŸ”½ğŸŒ°ğŸƒğŸ’ğŸ‘© ğŸ¬ğŸŒ»ğŸ©ğŸ‘ºğŸ†ğŸ“£ risus ğŸŒ¼ğŸ‘§ğŸŒ’ğŸ„ğŸ’„ğŸŒ†ğŸ–ğŸ‘ğŸ“  ğŸ•™ğŸˆğŸ‘ğŸ¢ğŸ‘…ğŸ½ğŸ«ğŸ‘ƒğŸŒ¾ğŸ˜ğŸ•‘ğŸ¼ğŸ’†ğŸ³ ğŸ»ğŸ“µğŸ”‚ğŸ©ğŸ•¦ğŸ‘•ğŸ¶ ğŸ’šğŸ®ğŸ“ŸğŸ“ˆğŸŒ„ğŸ‘±ğŸ”š sem ğŸ”µğŸ’±ğŸ’­ğŸ’« libero bibendum ğŸŒ¿ğŸ®ğŸ§ğŸ´ğŸ’‰ ğŸµğŸ”·ğŸ’ğŸœ sed metus, aliquam ğŸ·ğŸ¬ğŸ“‡ğŸ‘”ğŸ´ğŸ”»ğŸŠğŸ“´ğŸ‚ğŸ½ ğŸ€ğŸ’¡ğŸºğŸŒ¾ ğŸ’£ğŸ‡ğŸ¼ğŸŒ€ğŸŸğŸ‚ğŸ° sed luctus ğŸ‘¾ğŸ ğŸ‘»ğŸ’¬ğŸ“‹ğŸˆğŸ‘€ğŸŒ•ğŸ’¥ğŸ¹ consectetur commodo at ğŸ““ğŸ£ğŸ”®ğŸğŸ”ºğŸğŸ—»ğŸƒğŸ ğŸ”¬ ğŸğŸ¬ğŸ”ğŸŒ™ ğŸ¿ğŸŠğŸ³ğŸ’“ğŸ‘¹ğŸ ğŸ‘¦ğŸ©ğŸ‘¶ğŸ’» ğŸ”‰ğŸ’ğŸ“§ğŸ”²ğŸˆğŸ“¹ğŸ’«ğŸ§ ğŸŒŸğŸ¯ğŸ”­ğŸ¿ ğŸ¹ğŸ—»ğŸ’³ğŸ”„ğŸ•ğŸ’‚ ğŸ©ğŸ‘ ğŸŒ—ğŸ¹ facilisis ğŸ‘ğŸ‘ğŸ’¤ğŸ•ğŸğŸ»ğŸ© posuere ğŸ‘ğŸ¢ğŸ‘ğŸ¨ğŸ“—ğŸ‘£ ultrices. Vestibulum ğŸŒ ğŸ‘°ğŸ’¼ğŸ“ğŸºğŸ’« ğŸ‘˜ğŸ–ğŸ”•ğŸ”¤ğŸ–ğŸ’¶ğŸ¢ğŸ“µğŸ‘ğŸª ğŸ”¸ğŸ¿ğŸ”¤ğŸ¡ğŸ’¡ğŸŒ„ğŸ“ğŸ‘‰ğŸğŸ†ğŸ¢ğŸ”’ ğŸ“´ğŸ‘‰ğŸŒ±ğŸğŸŒ“ğŸ†ğŸ©ğŸ€ğŸ‘“ğŸ’¹ğŸ´ ğŸ”´ğŸŒ’ğŸ”˜ğŸ‘¡ğŸ•œ ğŸŒğŸ‰ğŸ‘ğŸ®ğŸ¸ğŸ³ğŸ’‰ğŸ„ ğŸ³ğŸ²ğŸ”­ğŸ“†ğŸğŸ”¼ğŸğŸ©ğŸ’¾ğŸˆğŸ¶ğŸ’…ğŸœğŸ€. ğŸ­ğŸ„ğŸŒ³ğŸğŸ’ğŸ‘ˆğŸŒ† ğŸ”¦ğŸ¦ğŸ‘µğŸŒ¹ğŸŠğŸğŸ“³ğŸŒƒğŸ“˜ğŸŒ·ğŸ’ğŸ““ğŸ¼ ğŸ³ğŸ”ğŸ”‚ğŸ—½ ğŸ’…ğŸ°ğŸŠğŸ‘‚ğŸŒ´ ğŸ’ğŸ•—ğŸ˜ğŸ”¼ğŸ”°ğŸ€ ğŸ‚ğŸ“»ğŸ•›ğŸ”ğŸ„ vitae ğŸ“ğŸ†ğŸšğŸŒ²ğŸ° ipsum ğŸ‘˜ğŸ‘ğŸ“…ğŸˆğŸŒ†ğŸ’®ğŸ”ğŸ¤ ğŸ’ºğŸ’‰ğŸ’‰ğŸ‘ğŸ”›ğŸ›ğŸºğŸ¸ğŸ“­ ğŸ’ ğŸ‘ğŸ¨ğŸ’– integer ğŸŒğŸ“€ğŸ‚ğŸğŸ¼ volutpat, condimentum elit ğŸŒğŸŒ•ğŸŠğŸ‘¼ ğŸŒ›ğŸ•œğŸŒšğŸ•¤ğŸ ğŸ¢ğŸ’¨ğŸ‘“ğŸ‘¤ duis amet ğŸ“¹ğŸ•šğŸ”ğŸ§ğŸŒ·ğŸ„ğŸ‘¦ ğŸ” ğŸ¬ğŸ‘¬ğŸ©ğŸ“«ğŸ§ğŸ·ğŸ”¢ğŸ’†ğŸ­ğŸ”³ğŸ‘ˆ ğŸ”‡ğŸ‘¿ğŸ’ˆğŸ‘§ğŸğŸ±ğŸ”‰ in ğŸŒğŸ²ğŸŒ ğŸŒŸğŸ€ğŸ‘›ğŸŒğŸ§ sed. Tristique malesuada id ğŸ†ğŸ•ğŸ•šğŸ¯ğŸŒ¶ ğŸ“ºğŸ˜ğŸ€ğŸ®ğŸ”¶ğŸ€ğŸ¥ğŸ‘¬ğŸ’ğŸƒğŸŒ™ğŸ¥ğŸ”¦ğŸ— ğŸ‘˜ğŸ‘£ğŸ‚ğŸªğŸ”‚ğŸ¾ ğŸ‘ğŸ‘®ğŸ’ˆğŸ—»ğŸŒ¿ğŸ’°ğŸ“©ğŸ”‹ğŸ’­ğŸ’ƒ ğŸğŸ•‘ğŸ”‹ğŸ‘ ğŸ†ğŸˆğŸ‘°ğŸŒ… orci nam ğŸ”€ğŸ• ğŸ„ğŸ£ğŸ‘˜ğŸ²ğŸ’˜ğŸ¥ ğŸ¥ğŸŠğŸ¯ğŸ‘¾ğŸ“… ğŸ‘›ğŸŒ½ğŸ«ğŸ”ƒğŸ‘‹ğŸ€ğŸ‘¶ğŸ’¥ğŸ”³ ğŸ•¥ğŸ‘ªğŸ‘‘ğŸ‘¯ ğŸ“ğŸ’¡ğŸ” ğŸ’¼ğŸ”³ğŸ’² ğŸ‘¬ğŸ”ğŸœğŸ’˜ğŸ”ŒğŸŒğŸƒğŸŒ¶ğŸğŸ¯ğŸº ğŸ”ŸğŸ“¨ğŸ”œğŸ±ğŸ’“ğŸ”› accumsan ğŸ¢ğŸ­ğŸ‰ğŸ³ğŸ•œğŸ†ğŸ”—ğŸ“ğŸ‘¿ ğŸ—ğŸ‘‘ğŸ“œğŸğŸ‡ğŸ•ğŸŒ› ğŸ“ğŸŒ°ğŸ‘£ğŸ“†ğŸŒ‹ ğŸ‘ŒğŸ±ğŸ’ğŸ”‡ğŸ†ğŸŒğŸ“ğŸ’»ğŸŒº dictumst ğŸ“¡ğŸğŸŒğŸ’¤ğŸ…ğŸ””ğŸŸğŸ“¥ğŸŒ“ğŸŒ’ğŸ…ğŸ“¨ğŸ¡ğŸ‘ºğŸ¬ğŸŸ ğŸ”¹ğŸ’³ğŸ¨ğŸ’¡ğŸ‹ğŸ’•ğŸ•œğŸ¦ğŸ‘ŸğŸ•’ğŸ•£ğŸ’…ğŸ’— ğŸ¤ğŸ”ˆğŸ“€ğŸ“œğŸ“™ğŸŒ ğŸ“«ğŸ•˜ğŸ‘ğŸ’¾ğŸ“± purus ğŸ•’ğŸ•ğŸ‘µğŸ„ğŸ’—ğŸ¤ğŸ• pharetra adipiscing elit, non ğŸ¬ğŸ‘¸ğŸ‰ğŸ‘‘ ğŸ ğŸŒ‡ğŸ‘°ğŸ’„ ğŸŒ•ğŸ—¼ğŸ®ğŸ’‡ğŸ— ğŸ“ŒğŸ¤ğŸŒ²ğŸ‘¹ğŸ“Œ ğŸğŸ•“ğŸ“ğŸ¤ğŸ’¾ tellus ğŸ’†ğŸ¨ğŸ‘‚ğŸ•ŸğŸ’šğŸ‹ğŸŒ ğŸ³ ğŸ˜ğŸ«ğŸµğŸ“šğŸ“ŸğŸ”›ğŸ‘ğŸ­ğŸ”„ğŸ‘ŒğŸ“ğŸ‘šğŸ„ğŸ ğŸ’ğŸŠğŸ‘¾ğŸ˜ğŸ‘°ğŸ“„ğŸ’¯ğŸ”‘ proin ğŸ¡ğŸ”ğŸ³ğŸ»ğŸ¶ğŸœ ğŸ•ğŸŒµğŸ“¯ğŸ”–ğŸ’…ğŸ•”ğŸ’˜ğŸğŸŒ¾ğŸ’¨ğŸ”²ğŸ”¼ğŸœğŸ˜ğŸ•‚ in suscipit ğŸğŸ„ğŸ¬ğŸ”™ğŸ‘ªğŸ’£ğŸ£ğŸ’¯ğŸ•§ lectus ğŸŒ¾ğŸšğŸºğŸ†ğŸ’‰ğŸ¡ğŸ‘· ğŸ“–ğŸ”…ğŸ‘¼ğŸ• ğŸŒ„ğŸŒƒğŸ“¦ğŸ”²ğŸ’˜ğŸŒ¶ğŸ’ğŸ¯ğŸ’¿ senectus ğŸ‘»ğŸ’ˆğŸ—½ğŸˆ ğŸ“œğŸ‰ğŸ’ğŸğŸ”–ğŸ‘™ğŸ”€ğŸ…ğŸ‘™ ğŸ¬ğŸ“·ğŸ¨ğŸ‘¹ğŸ¬ ğŸ·ğŸŒğŸ”½ğŸ’¨ğŸ¿ğŸŒŒğŸŒ’ ğŸğŸŠğŸ”•ğŸ. ğŸˆğŸŒ„ğŸ“§ğŸŠğŸ“›ğŸ‘—ğŸ•Ÿ ğŸ‹ğŸ’ŒğŸ”ğŸ›ğŸ’«ğŸ”°ğŸ‘ƒğŸ•‘ ridiculus mattis ğŸ•“ğŸŒğŸ‘˜ğŸŒ¹ ğŸ‘…ğŸ’ğŸ¨ğŸ”¯ğŸ‚ğŸ•ƒğŸŒğŸ‘ ğŸğŸ”” pellentesque elit eu, ğŸ’ğŸ§ğŸ’¯ğŸ”„ğŸ“ˆğŸ“›ğŸ»ğŸ“†ğŸ”±ğŸ“´ğŸ”¸ğŸ»ğŸ˜ğŸ€ viverra ğŸŒ†ğŸ‰ğŸ‰ğŸŒ† ğŸ“ªğŸ•ğŸŠğŸŒœğŸ“ºğŸ”†ğŸ¢ğŸƒ mi sed tellus luctus ğŸœğŸƒğŸ”¶ğŸ—½ laoreet dui tristique ğŸ”†ğŸŒ¸ğŸ›ğŸ”£ğŸ¤ğŸ“˜ğŸ•œğŸƒğŸ‹ pretium ultrices ğŸ”³ğŸ‡ğŸğŸ­ğŸ€ ğŸ±ğŸ ğŸ‘¬ğŸ“®ğŸŒ—ğŸŒ†ğŸ’ºğŸ”†ğŸ‘¨ğŸŒ± et ğŸ‘¸ğŸ“ğŸ“©ğŸ”ŒğŸ‘¯ğŸ‘ğŸ‘«ğŸ‘³ğŸ’¸ ğŸğŸ’‰ğŸ”±ğŸ’¦ğŸ‘´ ğŸªğŸ¶ğŸ¸ğŸ”¤ ğŸ’”ğŸ¤ğŸ‘ºğŸ‘»ğŸ¤ğŸ¥ğŸ½ğŸ”¦ğŸ‘ŒğŸ”¡ğŸ“šğŸ’¡ğŸ”ğŸ» ğŸµğŸ‘¡ğŸ•€ğŸ© ğŸ¸ğŸ’ğŸ­ğŸ• ğŸ”¢ğŸ§ğŸšğŸ’ª ğŸŒ¸ğŸ°ğŸ’ğŸğŸ¥ğŸ•ğŸ”¬ğŸ’¶ ğŸ’ƒğŸŒ½ğŸ’•ğŸ­ ğŸ’¯ğŸğŸ“­ğŸšğŸ“›ğŸ““ğŸŒğŸ”¯ğŸ“¦ ğŸ•ğŸ‘¾ğŸ“’ğŸ“³ğŸ’µ ğŸ ğŸ’ºğŸ•”ğŸ•ğŸ“ƒ adipiscing nulla congue ğŸ”–ğŸ’²ğŸ•šğŸ°ğŸ”‹ğŸ‘¬ sem ğŸ‘½ğŸ‘µğŸ‘œğŸ‘‡ vehicula ğŸ“‘ğŸŒğŸğŸ’ˆ consectetur nulla ullamcorper enim, ğŸ«ğŸƒğŸ¢ğŸ”„ğŸğŸ•¢ğŸ‘–ğŸ’¨ğŸ‘ºğŸ’°ğŸ‘ğŸ’³ğŸ ğŸ¤ vel fermentum porttitor lacus ğŸ“±ğŸ’§ğŸ”œğŸ”°ğŸ‘±ğŸ°ğŸ‰ğŸ”“ğŸ•§ğŸŒğŸ•™ ğŸ´ğŸ«ğŸ±ğŸŸğŸŒ–ğŸ•ğŸ¥ğŸğŸ“œğŸ”ƒğŸˆğŸ”¡ğŸğŸ”— ğŸ’ŠğŸğŸ“ğŸ‘­ğŸ¢ğŸ³ğŸ¯ğŸ“·ğŸ€ğŸ”ƒ. ğŸ¦ğŸšğŸ”µğŸ•œğŸ© id ğŸŒ”ğŸ”¤ğŸ’¿ğŸŒ»ğŸ¹ ğŸŒğŸˆğŸ“¢ğŸ”¬ğŸ–ğŸ’¢ğŸ‘¸ğŸ­ ğŸ¤ğŸ”µğŸ”“ğŸ••ğŸ“ªğŸ’¢ğŸ”ğŸ‘½ğŸ’´ ğŸ›ğŸ‘¶ğŸ”¢ğŸ¹ğŸ„ğŸ‘œğŸ“ŒğŸ­ğŸ”¼ğŸ«ğŸ¯ğŸ¦ğŸ’ğŸ¦ ğŸ¨ğŸ’§ğŸ´ğŸŒŠğŸ” consequat pretium ğŸ‘ğŸ¬ğŸ°ğŸ‘–ğŸ¥ğŸ“ºğŸ‘›ğŸŒ• ğŸ„ğŸ”±ğŸ”©ğŸğŸŒğŸŒºğŸŒğŸ‘‘ ğŸ°ğŸ•¢ğŸ’±ğŸ‘–ğŸ¶ğŸ¥ğŸ“¯ğŸ¶ğŸ’§ğŸ­ğŸ”€ğŸ¾ğŸ©ğŸ‘ massa, est ğŸ‘¶ğŸ­ğŸ’…ğŸ•”ğŸ³ğŸ’—ğŸğŸ’šğŸ©ğŸ·ğŸ˜ğŸŒ„ğŸ‡ ğŸ¼ğŸ‘€ğŸ‘€ğŸ… ğŸ“„ğŸğŸğŸ’¼ placerat erat ğŸ’§ğŸŒ‰ğŸ’»ğŸ”£ğŸ¥ğŸ“ ğŸªğŸ“»ğŸƒğŸ”»ğŸ‘ ğŸ•˜ğŸğŸˆğŸ”ğŸ“´ dolor ğŸ“ğŸ’¹ğŸğŸ‚ğŸ‰ neque, ğŸ‘—ğŸğŸªğŸŒµğŸ•›ğŸ„ ğŸ•ğŸ‘”ğŸ”¼ğŸ¡ğŸ”ºğŸ“¬ sed ğŸ’¨ğŸ’§ğŸ¢ğŸ¼ğŸ‘˜ğŸŒ³ğŸ¼ğŸ‘¹ğŸ‰ğŸ•• enim ğŸ”ğŸğŸ‘ŠğŸ’€ğŸ”“ ğŸ«ğŸˆğŸ’€ğŸŒ³ğŸ”’ğŸ‘µğŸ”˜ğŸºğŸ’´ğŸ‘ ğŸ‘­ğŸ”²ğŸ°ğŸ’¿ğŸ”ªğŸŒŠ ğŸŒ…ğŸ•”ğŸ‘ğŸ“›ğŸ”¶ğŸ”˜ğŸ‘ğŸ¯ ğŸ²ğŸ“ºğŸ‘¬ğŸ“ŠğŸ’ elit, ğŸŒ½ğŸ±ğŸ’‡ğŸ¥ ultricies ğŸ“¡ğŸ’²ğŸ¦ğŸŒğŸšğŸŒµğŸµ ğŸ®ğŸ“§ğŸ”ŸğŸ´ğŸ‘•ğŸ”ğŸŒ´ğŸ”ŠğŸ‘³ğŸ—¼ğŸ’’ğŸŒ´ğŸ‘ğŸ“ğŸ”³ğŸ‘œğŸ”¥ğŸğŸ¾ğŸ§ğŸŠ ğŸŒ°ğŸ—¾ğŸŒ‚ğŸ„ ğŸ”›ğŸ€ğŸğŸğŸ””ğŸ“–ğŸ’‰ğŸ“¼ğŸ¥ğŸ± ğŸœğŸºğŸµğŸ’¿ğŸ‘‚ğŸŒ‹ğŸŒ¸ ğŸ”ğŸ¤ğŸ”ŸğŸ€ğŸ“™ğŸ©ğŸ‘‘ porta id ğŸ„ğŸ’ºğŸ™ğŸ‘¶ğŸ‘ªğŸ”ªğŸ‘ªğŸ­ğŸ’šğŸ“—ğŸ…ğŸğŸ‘¡ğŸ­ ğŸ¦ğŸŒğŸ†ğŸ’« quis nulla dictumst non ğŸ“«ğŸµğŸ”«ğŸ•  ğŸ”¯ğŸ”ƒğŸ·ğŸ“–ğŸ’™ğŸ‘“ğŸ’ ğŸ¬ğŸ•ƒğŸ¥ğŸ«ğŸ›ğŸŒ†ğŸ—ğŸ‘…ğŸ“· ğŸ“šğŸ­ğŸŒğŸŒğŸ•ğŸ‘œğŸ‘³ ğŸ§ğŸ’¬ğŸ’´ğŸ†ğŸ„ğŸ” ğŸ“„ğŸ°ğŸ“ğŸŒˆ ğŸ©ğŸŒ‡ğŸŒŸğŸ“™ suspendisse ğŸ”¡ğŸ‘«ğŸğŸ©ğŸŒ‰ğŸ•šğŸ“˜ğŸ® ğŸ‘ğŸğŸ‘®ğŸ­ğŸ£ ğŸ‘°ğŸ“¤ğŸ™ğŸˆğŸ‘“ğŸ°ğŸ¦ lacinia diam eu vestibulum donec faucibus ğŸ”ğŸ´ğŸŒ·ğŸ’©ğŸ¡ğŸœğŸ’™ ğŸğŸ”‰ğŸŒ›ğŸ“ ğŸ¢ğŸ“„ğŸ†ğŸ†.

<script>console.log("That's a lot of emojis.");</script>

ğŸ”²ğŸ€ğŸ¨ğŸ‘†ğŸ‘ğŸ©ğŸ¦ğŸ¹ nibh ğŸ•ğŸƒğŸ”»ğŸ“¨ nec pulvinar ğŸ“ğŸœğŸ’»ğŸ¸ğŸ¾ğŸ¾ğŸ’– risus ğŸ«ğŸ•œğŸ‘ğŸŒ³ğŸ“‡ğŸ‹ğŸªğŸ£ neque ğŸ‘ğŸğŸŒ¹ğŸ«ğŸŒŒğŸ‘… ğŸ‘¹ğŸˆğŸ—½ğŸ£ ğŸ’‰ğŸ“ŠğŸ˜ğŸ”‰ğŸ†ğŸ’¡ğŸŒ¸ğŸ‘°ğŸ”›ğŸ“¼ ğŸºğŸŒ¿ğŸªğŸ”œğŸ’„ğŸ’ğŸ‘Ÿ amet vitae, morbi elit rhoncus ğŸ™ğŸ«ğŸªğŸ¡ğŸ‘•ğŸ’µ ğŸŒ•ğŸ’ğŸ’¯ğŸ·ğŸŒ¾ğŸ“¼ğŸ€ğŸ¬ğŸŒ›ğŸ•¤ğŸŠğŸ‘”ğŸ”©ğŸ‚ğŸ“šğŸ’µ ğŸ’–ğŸğŸ‘¹ğŸ”¼ğŸ ğŸ¢ğŸ¼ğŸ§ ğŸ‘›ğŸ“©ğŸ¯ğŸ’Š ğŸ“ğŸŒ’ğŸ“ğŸ’½ purus ğŸ”ğŸ“¼ğŸ“¬ğŸŒğŸğŸ’¸ morbi ğŸğŸ¾ğŸ¡ğŸŒ‹ ğŸ“¨ğŸŒˆğŸ”ˆğŸŒ†ğŸ”¨ğŸ“•ğŸ’›ğŸ¡ğŸ¯ ğŸ’…ğŸ£ğŸ‘½ğŸ•¦ ğŸŒ´ğŸ‹ğŸ”ğŸ”‘ ut congue ğŸ”ŠğŸ§ğŸŒ»ğŸ•‘ gravida ğŸ‰ğŸ‘…ğŸ‘¦ğŸ‘¢ğŸ‰ğŸ”ğŸ’ªğŸ”„ğŸˆ ğŸ‘³ğŸ¡ğŸ•¥ğŸ‚ ğŸ”µğŸ˜ğŸ” ğŸ‘ğŸ‘‰ğŸ”€ğŸ“ŠğŸ¡ ğŸŒ„ğŸ¯ğŸ’½ğŸ“ğŸ“šğŸ†ğŸ‘†ğŸŒ‚ğŸ¡ğŸ“–ğŸ±ğŸ‘®ğŸŒ½ğŸ„ orci ğŸ“šğŸ£ğŸ€ğŸ¦ğŸ“ªğŸ’¶ğŸŒ“ etiam ğŸŒ‘ğŸğŸ’‡ğŸ‘¬ğŸ“ğŸ“…ğŸ’¸ğŸ‘ŸğŸŒ•ğŸŠğŸğŸª vehicula sed ğŸ“’ğŸ“­ğŸ“£ğŸŒŒğŸğŸ²ğŸŒ´ğŸ ğŸ”ğŸ‘¯ğŸ“¥ğŸ’½ğŸŒ—ğŸ’²ğŸ¡ğŸ”« ğŸˆğŸ¥ğŸ‡ğŸ”ºğŸ’ğŸ’ğŸŒ³ğŸ‘ğŸ¤ğŸ®ğŸ“­ğŸ“Š ğŸ“ğŸ‘ ğŸ•ğŸ•˜ğŸ‚ğŸ£ğŸºğŸ¬ğŸ– eget lectus ğŸ„ğŸğŸ“‰ğŸ“¥ğŸŒ¾ğŸ´ğŸ£ ğŸ¾ğŸ•¤ğŸ¼ğŸŒƒğŸ”©ğŸ‚ğŸ•£ğŸ‰ğŸ’§ğŸ“ŠğŸ§ğŸ§ğŸŒ‚ğŸ  ğŸµğŸŒºğŸ“°ğŸ“‘ğŸ° ğŸ‘£ğŸ¸ğŸ’šğŸ—ğŸ”œğŸ••ğŸ ğŸ•™ğŸ‡ğŸ“²ğŸŒ™ ğŸ‘«ğŸ’›ğŸ’½ğŸ‘ğŸ’¸ ğŸ”ğŸ”ğŸ”˜ğŸªğŸ’»ğŸ”‚ nunc, ğŸ¹ğŸ•—ğŸ¡ğŸ“¤ğŸ· sem vitae adipiscing tempor, ğŸ•¡ğŸšğŸˆğŸŒŸğŸ‘ğŸ’¢ğŸ”¦ ğŸŒ´ğŸ’¿ğŸ’”ğŸ³ğŸ“ğŸŒ½ğŸ’ğŸ”­ğŸ”¨ lectus ğŸŒ°ğŸŒ“ğŸ—½ğŸ’€ğŸˆ est ğŸ“¬ğŸ’‘ğŸ•ğŸº ğŸ“€ğŸ®ğŸ”«ğŸ”œğŸ­ğŸŒ·ğŸ€ğŸ’‘ğŸ‚ğŸ”µ vulputate leo eget ğŸ—ğŸŒ´ğŸƒğŸ”£ğŸ‘²ğŸ“™ ğŸ“ºğŸˆğŸğŸ’¦ğŸŒ…ğŸ’”ğŸ’Œ phasellus ğŸ‘¨ğŸ’¡ğŸ”¯ğŸƒğŸœğŸ’ğŸ”µğŸ’†ğŸ©ğŸ¦ğŸ¬ğŸ…ğŸ§ ğŸ²ğŸ°ğŸ’ŠğŸ£ğŸ“ğŸ’ ğŸ”®ğŸ‰ğŸ±ğŸ‘¿ğŸŸğŸ’ªğŸ•¤ ğŸ¡ğŸœğŸ•šğŸŒ. Turpis vulputate ğŸŒ—ğŸ”«ğŸ“™ğŸ½ğŸ½ğŸ¿ğŸ““ pretium congue in arcu tincidunt. Nisi ğŸ“ºğŸ’ğŸ‘ƒğŸ•ƒğŸ« ğŸğŸ“¨ğŸğŸ••ğŸ’¯ğŸ’­ ğŸ“¬ğŸ§ğŸ”§ğŸŒŸ ğŸ©ğŸ‘›ğŸ­ğŸŒ½ğŸ®ğŸŒ magnis porttitor ğŸ”ˆğŸ„ğŸŒ“ğŸ‘¶ğŸ®. ğŸ‘¢ğŸŒµğŸ¬ğŸŒğŸ© rutrum egestas ğŸ’™ğŸ” ğŸ§ğŸœğŸ£ nisi lectus feugiat ğŸ€ğŸ•šğŸ•¢ğŸŒ€ğŸ°ğŸ’… ğŸ’ğŸ“®ğŸŒğŸ“ƒğŸ”ˆ ğŸ“ğŸ“ğŸ®ğŸ„ğŸ“¢ğŸ“›ğŸºğŸ”ŠğŸ’ sagittis ğŸ–ğŸŒ‚ğŸ“ğŸ‘’ğŸ‘ğŸ”¼ğŸ‘ŠğŸ“£ğŸ“­ğŸ‘¿ğŸ¦ğŸ”–ğŸµğŸ’ºğŸ³ ğŸ•—ğŸ”­ğŸ­ğŸ“ğŸ‘ğŸ’¯ massa erat ğŸ§ğŸğŸ¤ğŸ‘”ğŸ’‘ğŸ£ğŸ¢ ğŸğŸ—¾ğŸ”™ğŸŠğŸ­ğŸ”£ğŸ‘ ğŸ’ŠğŸ’–ğŸŒ³ğŸ’ŒğŸ’¿ğŸ¯ğŸ”´ğŸª. Id ğŸ…ğŸ¦ğŸ’ğŸ“±ğŸ’ğŸ‘“ğŸ¡ ut ğŸ¬ğŸ””ğŸŒŸğŸŒ‘ ğŸ¦ğŸ’®ğŸ©ğŸ”¬ ğŸ‘°ğŸ“µğŸ˜ğŸ´ ğŸ‘ªğŸ©ğŸ‘³ğŸ’†ğŸ§ purus ğŸ’®ğŸ¦ğŸ¼ğŸ·ğŸ”¦ ğŸºğŸ”‡ğŸ´ğŸ“ˆ cras pretium volutpat, etiam risus ğŸ‡ğŸ•”ğŸªğŸ”½ ğŸ‘ ğŸ”®ğŸ”ˆğŸƒğŸ§ğŸŒ„ğŸ‘œ vel sapien ğŸ’¯ğŸ‘»ğŸ‘œğŸ¼ğŸ“œ ğŸ½ğŸ’€ğŸŠğŸŒ‰ğŸ“´ğŸ»ğŸ“ğŸ’‰ğŸ“ºğŸº vivamus lorem ğŸ“ƒğŸ“‰ğŸ”ğŸ•¦ ğŸ“£ğŸ¨ğŸŒ‰ğŸ”©ğŸºğŸ”ğŸ‘™ molestie tellus ğŸ‘¹ğŸ’ƒğŸ••ğŸ“—ğŸ”µğŸ•¢ vel ğŸ“ğŸğŸ”…ğŸ“ğŸ”ğŸšğŸŒ€ğŸ’ğŸ¦ ğŸ±ğŸ®ğŸ•£ğŸ‘‹ğŸ“³ğŸ‘ ğŸ•™ğŸ¡ğŸ•’ğŸ“–ğŸ“ªğŸ‘© condimentum ğŸ¤ğŸ’ğŸ’·ğŸ•ğŸ’¬ğŸ’ğŸ¨ğŸ’° amet nisl fringilla bibendum ğŸ˜ğŸƒğŸƒğŸ‰ğŸ°ğŸ¦ğŸğŸ±ğŸ…ğŸ¥ğŸ”³ğŸµğŸ ğŸ§ğŸ–ğŸ”­ğŸ’‡ ğŸ•ğŸ±ğŸ“‚ğŸˆğŸ‘‡ ğŸ¯ğŸ‘ğŸ¹ğŸ‘˜ğŸ’¯ğŸ“—ğŸ‘· ğŸ’‚ğŸ•˜ğŸ‘¦ğŸ’˜ğŸ’†ğŸŒ—ğŸ•ƒğŸ€ğŸ”š ğŸ”œğŸ’ƒğŸŒ’ğŸ§ğŸ”ğŸ¹ğŸ”‘ğŸ’‚ğŸ‘œğŸ­ ğŸ¤ğŸ‘ŒğŸ‘ğŸ©ğŸ“ğŸ•¦ğŸ”œğŸ™ morbi ğŸ‘‘ğŸ¸ğŸŒ„ğŸ¹ğŸƒğŸ¢ğŸ³ğŸ’¸ malesuada quam amet, ğŸ’°ğŸ”—ğŸ‘—ğŸ°ğŸ†ğŸ•‘ğŸ“® ğŸ‹ğŸŒ˜ğŸğŸ§ ğŸ”»ğŸºğŸ˜ğŸ‘ğŸ¬ğŸ”· pulvinar ğŸ”­ğŸ¬ğŸ‘¦ğŸ’† vivamus tempus ğŸ§ğŸ‘‰ğŸ•¢ğŸ“­ğŸ” ğŸŒ”ğŸ•§ğŸ’§ğŸ“ŠğŸ”¼ ğŸ‘¬ğŸ‘ğŸŒ˜ğŸ®ğŸğŸğŸ•ƒğŸ‘—ğŸ”´ğŸ½ğŸ˜ğŸŒˆğŸ“ºğŸ‘™ğŸ•.

<div onload="console.log('It really is.')"></div>

Faucibus ğŸˆğŸ‹ğŸ”„ğŸ“‡ğŸ¡ğŸ’ ğŸ¾ğŸ©ğŸ”¹ğŸ”£ğŸğŸ¸ğŸŒ³ vestibulum, ğŸ¢ğŸŒ˜ğŸ•œğŸ‘‚ğŸ’¬ğŸ‘ğŸª ğŸ“«ğŸ“ŠğŸ…ğŸŒ·ğŸ“ğŸ”°ğŸ£ğŸ’­ğŸ‘§ğŸ‘½ğŸ’ğŸ“•ğŸ’“ğŸ‘¯ ğŸğŸğŸ•¥ğŸ•‘ğŸ’—ğŸŒğŸ“©ğŸ“§ğŸ¸ğŸŒ™ ğŸ•ğŸµğŸ€ğŸ«ğŸ«ğŸ”°ğŸ‘²ğŸ›ğŸ”µğŸª ğŸ³ğŸ†ğŸ·ğŸ quam ğŸ’ ğŸˆğŸ•“ğŸŒ´ğŸŒ±ğŸ¨ğŸ’¢ğŸ®ğŸ•¡ğŸ”¡ğŸ’ğŸ imperdiet placerat ğŸ”±ğŸ‘ğŸ“”ğŸ”§ğŸŒ nisl ğŸ“¢ğŸ—»ğŸ¹ğŸ”ğŸ••ğŸğŸ’¦ ğŸ“ˆğŸ”µğŸ“´ğŸ³ğŸ“¬ğŸ’•ğŸ“§ğŸ““ğŸš ğŸ“ˆğŸŒ¸ğŸ”±ğŸ’œğŸ’ğŸŒğŸ»ğŸ“˜ğŸ ğŸ’µğŸ¡ğŸ”ŒğŸ“¦ğŸ‘ğŸ©ğŸ”‡ğŸ‘…ğŸ“ğŸ† ğŸŒğŸ’ğŸ“ºğŸ«ğŸ·ğŸŒğŸ’’ğŸŒ¸ğŸ”ğŸŒ‡ğŸ“ ğŸ”‚ğŸŒ¼ğŸ’ğŸŸ ut vel et ğŸ©ğŸ‘–ğŸ’¾ğŸ‘¢ğŸµğŸ’‚ ğŸŒ‚ğŸ“±ğŸ’³ğŸ¨ğŸ² ğŸ”ğŸ”µğŸƒğŸ¦ğŸ•ğŸŒŸğŸŒğŸ”‘ tristique vel ğŸŒƒğŸ’‹ğŸ‘‰ğŸ”°. Tortor sit ğŸŒ“ğŸ‘‘ğŸ”“ğŸ€ğŸŒ¹ tempus ğŸ¸ğŸ¹ğŸ“”ğŸ‚ğŸºğŸ€ consequat ornare ğŸ‘½ğŸ‘½ğŸƒğŸ“—ğŸŒ˜ğŸ ğŸ”¯ğŸŒ²ğŸ“ğŸ“¥ğŸğŸ£ğŸ¸ ğŸ”ğŸ“ğŸ“ğŸ£ ğŸ’©ğŸ”¥ğŸ’¨ğŸ‘‹ğŸ”¹ ğŸŒ•ğŸ’ŠğŸªğŸ•¡ ğŸ‡ğŸ‰ğŸµğŸ‘¢ğŸ³ğŸ•›ğŸ¸ ğŸˆğŸ‡ğŸ­ğŸ•ğŸ¬ rhoncus ğŸ“›ğŸğŸ”¨ğŸ’¶ bibendum ğŸ‹ğŸ‘²ğŸ¤ğŸ“°ğŸ ğŸŒ¸ğŸ“™ğŸğŸŒ  ğŸ¿ğŸ€ğŸ‘¡ğŸ’²ğŸ“‹ğŸ’¦ğŸµğŸ”‘ğŸ•¡ğŸ•ğŸ¥ğŸğŸ‘§ğŸ”˜ğŸ’¡ arcu ğŸ’£ğŸ‘ğŸŒ¶ğŸ‘¬ğŸŒ¹ğŸ”’ğŸŒğŸ“ ğŸ•–ğŸ“ğŸ“ŒğŸ©ğŸ“«ğŸ’¬ ğŸ‘‹ğŸŒšğŸŒ¶ğŸ’¶ğŸŠğŸ’«ğŸ”ğŸ“²ğŸºğŸ®ğŸ’™ğŸŸ ğŸ•¦ğŸŒğŸ¡ğŸµğŸ’ ğŸğŸœğŸªğŸ”³ğŸ“ğŸ’ğŸ’»ğŸ¶ğŸ“¦ğŸ”µğŸ“¯ğŸ¦ğŸ lobortis malesuada ğŸ’‡ğŸ’¸ğŸ°ğŸ’…. ğŸŒğŸ•ğŸ‚ğŸ“‡ ğŸ’ğŸ’¨ğŸ”™ğŸ‰ğŸ¹ğŸ”¥ğŸ”—ğŸ“´ğŸ‘¥ğŸˆğŸ“’ğŸ”¸ğŸ’ğŸ”‡ğŸŒ™ğŸ•ğŸŠğŸ£ğŸ’†ğŸ’—ğŸ”½ tortor ğŸ”µğŸšğŸ“ğŸŒ±ğŸŒ†ğŸ€ğŸ» ğŸ”“ğŸ‘¦ğŸŒğŸŒ”ğŸ¯ğŸ‘ğŸ•£ ğŸŒ…ğŸ‘‡ğŸ“ğŸ’°ğŸ’ condimentum ğŸ‹ğŸ’‰ğŸğŸ“†ğŸ²ğŸ‘¢ğŸ¬ğŸ’ŒğŸ¤ ğŸ¢ğŸ‘·ğŸ‘‘ğŸ‘† ğŸ’±ğŸ’ğŸ¬ğŸ« ğŸ—¾ğŸ’ğŸ‘ğŸ‘„ ğŸ’ŠğŸ”…ğŸ”™ğŸ®ğŸ—ğŸ¥ nulla adipiscing ğŸ¦ğŸ‘¿ğŸğŸ”‹ğŸ“œğŸ‘µ ğŸ„ğŸ·ğŸµğŸ‘¾ ğŸ¿ğŸ’ğŸŒ²ğŸ’„ğŸ“šğŸŒ”ğŸ“­ğŸ‘„ğŸ‘¿ğŸ±ğŸ“·ğŸ’®ğŸ”€ğŸ„ velit.`
	for i := 0; i < b.N; i++ {
		h := handler.NewHandler(source, "AstroBenchmark")
		var doc *astro.Node
		doc, err := astro.ParseWithOptions(strings.NewReader(source), astro.ParseOptionWithHandler(h), astro.ParseOptionEnableLiteral(true))
		if err != nil {
			h.AppendError(err)
		}

		var fmContent []byte
		if doc.FirstChild.Type == astro.FrontmatterNode && doc.FirstChild.FirstChild != nil {
			fmContent = []byte(doc.FirstChild.FirstChild.Data)
		}
		s := js_scanner.NewScanner(fmContent)
		PrintToTSX(source, doc, s, TSXOptions{
			IncludeScripts: false,
			IncludeStyles:  false,
		}, transform.TransformOptions{
			Filename: "AstroBenchmark",
		}, h)
	}
}
