---
source: crates/astro_codegen/tests/snapshots.rs
input_file: crates/astro_codegen/tests/fixtures/font_component.astro
---
import { Fragment, render as $$render, createAstro as $$createAstro, createComponent as $$createComponent, renderComponent as $$renderComponent, renderHead as $$renderHead, maybeRenderHead as $$maybeRenderHead, unescapeHTML as $$unescapeHTML, renderSlot as $$renderSlot, mergeSlots as $$mergeSlots, addAttribute as $$addAttribute, spreadAttributes as $$spreadAttributes, defineStyleVars as $$defineStyleVars, defineScriptVars as $$defineScriptVars, renderTransition as $$renderTransition, createTransitionScope as $$createTransitionScope, renderScript as $$renderScript, createMetadata as $$createMetadata } from "http://localhost:3000/";
import { componentDataByCssVariable } from "virtual:astro:assets/fonts/internal";
import { filterPreloads } from "../dist/assets/fonts/core/filter-preloads.js";
import { AstroError, AstroErrorData } from "../dist/core/errors/index.js";
import * as $$module1 from "virtual:astro:assets/fonts/internal";
import * as $$module2 from "../dist/assets/fonts/core/filter-preloads.js";
import * as $$module3 from "../dist/core/errors/index.js";
export const $$metadata = $$createMetadata(import.meta.url, {
	modules: [
		{
			module: $$module1,
			specifier: "virtual:astro:assets/fonts/internal",
			assert: {}
		},
		{
			module: $$module2,
			specifier: "../dist/assets/fonts/core/filter-preloads.js",
			assert: {}
		},
		{
			module: $$module3,
			specifier: "../dist/core/errors/index.js",
			assert: {}
		}
	],
	hydratedComponents: [],
	clientOnlyComponents: [],
	hydrationDirectives: new Set([]),
	hoisted: []
});
const $$Astro = $$createAstro("https://astro.build");
const Astro = $$Astro;
const $$Component = $$createComponent(($$result, $$props, $$slots) => {
	const Astro = $$result.createAstro($$props, $$slots);
	Astro.self = $$Component;
	const { cssVariable, preload = false } = Astro.props;
	const data = componentDataByCssVariable.get(cssVariable);
	if (!data) {
		throw new AstroError({
			...AstroErrorData.FontFamilyNotFound,
			message: AstroErrorData.FontFamilyNotFound.message(cssVariable)
		});
	}
	const filteredPreloadData = filterPreloads(data.preloads, preload);
	return $$render`<style>${$$unescapeHTML(data.css)}</style>
${filteredPreloadData?.map(({ url, type }) => $$render`<link rel="preload"${$$addAttribute(url, "href")} as="font"${$$addAttribute(`font/${type}`, "type")} crossorigin>`)}
`;
}, undefined, undefined);
export default $$Component;
